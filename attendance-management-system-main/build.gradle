plugins {
    id 'java'
    id 'org.springframework.boot' version '4.0.0'
    id 'io.spring.dependency-management' version '1.1.7'
}

group = 'com.sesac2ndproject'
version = '0.0.1-SNAPSHOT'
description = 'attendance-management-system'

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // ==========================================
    // ğŸ—ï¸ [ê³µí†µ] í”„ë¡œì íŠ¸ ê¸°ë°˜ (All Teams)
    // ==========================================
    implementation 'org.springframework.boot:spring-boot-starter-web' // REST API
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa' // DB ì ‘ê·¼ (ORM)
    implementation 'org.springframework.boot:spring-boot-starter-validation' // ë°ì´í„° ê²€ì¦ (@NotNull ë“±)

    // í¸ì˜ ë„êµ¬
    compileOnly 'org.projectlombok:lombok' // Getter, Setter, Builder ìë™í™”
    annotationProcessor 'org.projectlombok:lombok'
    developmentOnly 'org.springframework.boot:spring-boot-devtools' // ì„œë²„ ìë™ ì¬ì‹œì‘

    // ==========================================
    // ğŸ—„ï¸ [DB] ë°ì´í„°ë² ì´ìŠ¤ (All Teams)
    // ==========================================
    // ê°œë°œ ë‹¨ê³„: H2 (ë©”ëª¨ë¦¬ DB - ì„¤ì¹˜ ì—†ì´ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥)
     runtimeOnly 'com.h2database:h2'
    // ìš´ì˜ ë‹¨ê³„: MySQL (ì‹¤ì œ ë°°í¬ ì‹œ ì‚¬ìš©, í•„ìš”í•˜ë©´ ì£¼ì„ í•´ì œ)
//    runtimeOnly 'com.mysql:mysql-connector-j'

    // ==========================================
    // ğŸ” [Team A] ì¸ì¦/ë³´ì•ˆ (Auth & Member)
    // ==========================================
    implementation 'org.springframework.boot:spring-boot-starter-security' // ìŠ¤í”„ë§ ì‹œíë¦¬í‹°

    // JWT (JSON Web Token) ë¼ì´ë¸ŒëŸ¬ë¦¬ (0.11.5 ë²„ì „ ê¸°ì¤€)
    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'
    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'
    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'

    // ==========================================
    // ğŸ“‚ [Team C] íŒŒì¼ ì—…ë¡œë“œ (Leave & File)
    // ==========================================
    // íŒŒì¼ ì…ì¶œë ¥ ìœ í‹¸ (íŒŒì¼ëª… ì²˜ë¦¬ ë“±ì— ìœ ìš©)
    implementation 'commons-io:commons-io:2.14.0'

    // ==========================================
    // ğŸ“Š [Team D] ì—‘ì…€/ê´€ë¦¬ì (Admin & Stats)
    // ==========================================
    // ì—‘ì…€ ë‹¤ìš´ë¡œë“œë¥¼ ìœ„í•œ Apache POI
    implementation 'org.apache.poi:poi:5.2.3'
    implementation 'org.apache.poi:poi-ooxml:5.4.0'

    // ==========================================
    // ğŸ“„ [ë¬¸ì„œí™”] Swagger/OpenAPI (All Teams)
    // ==========================================
    // API ëª…ì„¸ì„œ ìë™ ìƒì„± (http://localhost:9090/swagger-ui/index.html)
    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:3.0.0'

    // ==========================================
    // ğŸ§ª [í…ŒìŠ¤íŠ¸] (All Teams)
    // ==========================================
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.springframework.security:spring-security-test'
}

tasks.named('test') {
    useJUnitPlatform()
}
